---
import Layout from '../layouts/Layout.astro';
import { getAllProjects } from '../utils/projects';

const projects = await getAllProjects();
---

<Layout title="Projects">
  <div class="max-w-6xl mx-auto px-4">
    <h1 class="text-3xl font-bold mb-12">Projects</h1>
    <div class="grid grid-cols-1 md:grid-cols-2 gap-8">
      {projects.map(project => (
        <div class="flex flex-col items-start p-4 rounded-lg hover:bg-gray-50 transition-colors shadow-md">
          <a 
            href={`/projects/${project.id}`}
            class="w-full mb-4 transition-transform hover:scale-105"
          >
            <img 
              src={project.image} 
              alt={project.title}
              class="w-full h-40 object-cover rounded-md"
            />
          </a>
          <a 
            href={`/projects/${project.id}`}
            class="hover:text-gray-600 mb-2"
          >
            <h2 class="text-xl font-semibold">{project.title}</h2>
          </a>
          <p class="text-gray-600 mb-3">{project.description}</p>
          {project.technologies && (
            <div class="flex flex-wrap gap-2">
              {project.technologies.map(tech => (
                <span class="px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-600">
                  {tech}
                </span>
              ))}
            </div>
          )}
        </div>
      ))}
    </div>
  </div>
</Layout>