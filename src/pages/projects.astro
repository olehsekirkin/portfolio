---
import Layout from '../layouts/Layout.astro';
import { getAllProjects } from '../utils/projects';

const projects = await getAllProjects();
---

<Layout title="Projects">
  <div class="max-w-3xl mx-auto">
    <h1 class="text-3xl font-bold mb-12">Projects</h1>
    <div class="space-y-8">
      {projects.map(project => (
        <div class="flex gap-6 p-4 rounded-lg hover:bg-gray-50 transition-colors">
          <a 
            href={`/projects/${project.id}`}
            class="flex-shrink-0 w-32 transition-transform hover:scale-105"
          >
            <img 
              src={project.image} 
              alt={project.title}
              class="w-full rounded-lg shadow-md"
            />
          </a>
          <div class="flex-1">
            <a 
              href={`/projects/${project.id}`}
              class="inline-block hover:text-gray-600"
            >
              <h2 class="text-xl font-semibold mb-2">{project.title}</h2>
            </a>
            <p class="text-gray-600 mb-3">{project.description}</p>
            {project.technologies && (
              <div class="flex flex-wrap gap-2">
                {project.technologies.map(tech => (
                  <span class="px-3 py-1 bg-gray-100 rounded-full text-sm text-gray-600">
                    {tech}
                  </span>
                ))}
              </div>
            )}
          </div>
        </div>
      ))}
    </div>
  </div>
</Layout>